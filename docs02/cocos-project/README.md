# Sweet Puzzle - Cocos Creator Project

Sweet Puzzle 게임의 TypeScript/Cocos Creator 구현 프로젝트입니다.

## 📁 프로젝트 구조

```
cocos-project/
├── assets/
│   ├── scripts/
│   │   ├── puzzle/                    # 퍼즐 시스템 (Phase 1 완료)
│   │   │   ├── BlockType.ts          # 블록 타입 및 유틸리티
│   │   │   ├── Block.ts              # 블록 컴포넌트 (JS→TS 마이그레이션)
│   │   │   ├── GameBoard.ts          # 게임 보드 관리 (JS→TS 마이그레이션)
│   │   │   └── MatchDetector.ts      # 매치 감지 시스템 (JS→TS 마이그레이션)
│   │   ├── progression/              # 진행 시스템 (Phase 2 시작)
│   │   │   └── LevelManager.ts       # 레벨 관리 시스템 (신규 구현)
│   │   ├── ui/                       # UI 시스템 (예정)
│   │   ├── social/                   # 소셜 시스템 (예정)
│   │   ├── analytics/                # 분석 시스템 (예정)
│   │   └── monetization/             # 수익화 시스템 (예정)
│   ├── scenes/                       # 게임 씬들
│   ├── textures/                     # 텍스처 리소스
│   ├── audio/                        # 오디오 리소스
│   └── prefabs/                      # 프리팹들
└── README.md
```

## 🚀 개발 현황

### ✅ Phase 1: 퍼즐 시스템 (완료)
- **HTML5/JS 프로토타입**: 80개 테스트로 검증된 안정적인 퍼즐 로직
- **TypeScript 마이그레이션**: Cocos Creator 환경에 맞게 포팅 완료
- **주요 컴포넌트**:
  - `BlockType.ts`: 블록 타입 정의 및 헬퍼 함수
  - `Block.ts`: 블록 컴포넌트 (터치 이벤트, 애니메이션)
  - `GameBoard.ts`: 8x8 보드 관리 (블록 배치, 중력, 교환)
  - `MatchDetector.ts`: 매치 감지 (3매치, L/T 모양, 캐싱 최적화)

### ✅ Phase 2: 진행 시스템 (완료)
- **LevelManager.ts**: 레벨 관리 시스템
  - 45개 레벨 (World 1: 20개, World 2: 25개)
  - 5가지 레벨 타입 (점수, 수집, 장애물, 시간제한, 보스)
  - 3성 평가 시스템, 잠금해제 조건 관리, 보상 계산
- **ProgressionManager.ts**: 진행 시스템 통합 오케스트레이터
  - 플레이어 진행 상황 관리, 월드 해제 시스템
  - 게임 세션 관리, 레벨업 시스템, 통계 추적
- **WorldManager.ts**: 월드맵 전담 관리
  - 5개 월드 테마 (농장, 공장, 아이스크림, 성, 숲)
  - 월드별 성취도 시스템, 테마별 시각적 설정
- **PlayerProgressTracker.ts**: 데이터 영속화 관리
  - 자동 저장/백업, 데이터 검증, 가져오기/내보내기

### 📋 향후 계획 (Phase 3)
- **UI 시스템**: 게임 인터페이스 및 메뉴 구현
- **통합 테스트**: 퍼즐-진행 시스템 연동 검증
- **테스트 환경**: Cocos Creator 전용 테스트 시스템

## 🎯 기술 스택

- **엔진**: Cocos Creator 3.8+
- **언어**: TypeScript 4.9+
- **플랫폼**: 모바일 우선 (iOS/Android), 웹 지원
- **디자인 패턴**: 컴포넌트 기반 아키텍처, 싱글톤 매니저

## 🔄 HTML5 프로토타입과의 관계

현재 `/docs02/app/` 디렉토리의 HTML5/JavaScript 프로토타입은:
- ✅ **로직 검증 완료**: 80개 테스트로 핵심 퍼즐 메커니즘 검증
- 🔄 **마이그레이션 완료**: TypeScript/Cocos Creator로 성공적 포팅
- 📊 **참고용 유지**: 테스트 케이스 및 성능 벤치마크로 활용

## 🎮 게임 특징

### 핵심 퍼즐 메커니즘
- **8x8 게임보드**: 반응형 터치 인터페이스
- **6종 캔디 블록**: 🍎🍇🥝🍌🍆🧡 시각적 구분
- **3매치+ 감지**: 수평/수직/L자/T자/십자 패턴
- **특수 블록**: 라인/폭탄/레인보우 블록 생성
- **중력 시스템**: 블록 낙하 및 연쇄반응

### 진행 시스템
- **45개 레벨**: 2개 월드로 구성
- **5가지 레벨 타입**: 다양한 플레이 경험
- **3성 평가**: 완료/우수/완벽 달성도
- **보상 시스템**: 코인/젬/경험치/특수 아이템

## 🛠️ 개발 원칙

- **타입 안전성**: TypeScript 강타입 시스템 활용
- **컴포넌트 독립성**: 재사용 가능한 모듈 설계
- **성능 최적화**: 캐싱, 오브젝트 풀링 등 적용
- **테스트 기반**: 검증된 로직의 안정적 포팅

## 📝 참고 문서

- **설계 문서**: `/docs02/` 디렉토리의 종합 기획 문서
- **구현 계획**: `*-구현계획.md` 파일들
- **개발 일지**: `/docs02/develop-guide.md`
- **테스트 가이드**: `/docs02/21-23-*.md` 문서들